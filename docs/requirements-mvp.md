# 공연 티켓팅 플랫폼 MVP 요구사항 명세서

> **버전:** 2025-05-22

---

## 1. 사용자 관리 기능

### 1.1 회원가입 및 인증

* 사용자 등록 (이름, 이메일, 비밀번호, 연락처)
* 로그인/로그아웃 (JWT 기반 토큰 인증)
* 역할 기반 권한 (일반 사용자, 관리자)

### 1.2 사용자 프로필 관리

* 개인정보 조회 (마이페이지)
* 개인정보 수정 (이름, 연락처, 비밀번호)
* 이메일/아이디 변경은 별도 절차 필요 (MVP는 read-only)

---

## 2. 공연 정보 관리 기능

### 2.1 공연 목록/상세

* 공연 목록 조회 (카테고리, 장소, 날짜 기준)

  * 썸네일/제목/일시/장소 등 기본 정보, 페이지네이션(기본: 최신순)
* 공연 상세 정보 (설명, 출연진, 포스터, 러닝타임 등)
* 좌석 정보 및 예매 가능 여부 표시 (잔여석/등급/가격)

### 2.2 공연 검색·필터

* 공연명 키워드 검색(부분 일치)
* 장르/장소/가격대 필터, 정렬(최신/이름)

---

## 3. 예매 프로세스

### 3.1 좌석 선택

* 공연별 좌석 배치도(등급별 색상, 시각화)
* 예매 가능/불가 좌석 실시간 구분(완료/선택불가 표시)
* 다중 좌석 선택/취소(최대 선택수 제한)

### 3.2 좌석 예약 관리

* 좌석 예약 상태 실시간 업데이트(WS/Polling)
* **[MVP 기본]** 낙관적 잠금(임시예약 후 결제 시 확정, 타임아웃: 5분)

  * **[확장]** 비관적/분산락, 충돌방지는 운영 이슈 발생 시 도입
* 예약 미완료(타임아웃/결제실패) 시 좌석 자동 해제

---

## 4. 결제 기능

### 4.1 결제 프로세스

* 결제 정보 입력 및 수단 선택(신용카드, 간편결제)
* 결제 금액 계산(좌석금액, 수수료/할인 적용)

### 4.2 결제 처리/취소

* 결제 게이트웨이(PG사) 연동, 승인/실패 응답처리
* 결제 완료 시 예매 확정/영수증 발급(이메일/화면)
* **[MVP]** 전체취소/환불만 지원 (부분환불·수수료는 정책 확정 후 반영)
* 결제 실패/오류 시 롤백(좌석 자동 해제)

---

## 5. 예매 관리

### 5.1 예매 내역/상세

* 사용자별 예매 목록(진행/과거 구분)
* 예매 상세(공연/좌석/결제/예매번호)

### 5.2 예매 취소

* 공연 시작 24시간 전까지 취소 가능(이후 취소 불가 안내)
* 취소 처리(좌석상태 변경, 결제 환불 연동)
* 취소 정책/수수료/환불 소요기간 안내(화면/이메일)

---

## 6. 장애/운영/관측성

* 예매/결제 실패/중복에러/락충돌 등 주요 이벤트 로깅 및 알림
* 예매/결제 성공/실패율, 좌석 중복/락 실패율 등 메트릭 수집
* 장애/예외 발생시 자동 롤백 및 Alert Rule 운영
* 정책/PG/외부 연동 변경 등은 Feature Flag, 정책 테이블화

---


> 본 명세서는 "시장 검증 + 초기 운영 안정성"에 초점을 둔 최소 요구사항(MVP) 기준으로 작성되었으며,
> 모든 고도화/확장 기능은 실서비스 반응 및 운영 데이터 기반으로 순차 반영합니다.
