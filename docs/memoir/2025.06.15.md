## 2025.06.15 - 테스트 방식에 대한 고민

일단 이규원님의 [강의](https://www.inflearn.com/course/springboot-tdd-%EC%9E%85%EB%AC%B8%EC%8B%A4%EC%A0%84) 을 다 듣고왔다.

TDD에 대해 제대로된 인식도 없이 무작정 TDD를 도입하려고 했던거 같아서 제대로된 개발 방향성을 잡고자 끝까지 들어봤다. <br/>

결과적으로 강의를 통해 현재까지의 개발 방식에 큰 수정이 필요할것으로 생각된다. <br/>

1. jacoco 제거
   - jacoco를 사용해 테스트 커버리지를 측정하고 있는데, 이게 TDD의 목적과는 맞지 않는것 같다. <br/>
     사실 커버리지는 제대로 시나리오를 작성했다면 알아서 높게 나올것이고, 그 과정에서 일부는 테스트를 작성하지 않는것이 효율적인 상황도 있다. <br/> 
     따라서 jacoco를 제거하고, 테스트 커버리지는 필요한 경우에 한번씩 확인은 하겠다만 TDD를 제대로 사용한다면 자연스레 커버리지가 높게 나오겠지... <br/>

2. 대역이 항상 필요한건 아니다
   - 테스트를 작성할 때, 항상 테스트 대역(test double)을 만들어야 한다는 생각이 있었는데, 이게 꼭 필요한건 아니라는걸 알았다. <br/>
     외부 시스템에 의존하는 경우에는 테스트 대역이 필요할 수 밖에 없지만, 그렇지 않은 상황에서는 대부분 객체 검증만으로 충분히 테스트가 가능하다. <br/>

3. TDD의 핵심은 양질의 시나리오를 작성하는것
   - TDD의 핵심은 요구사항에 따라 테스트 시나리오를 작성하는것이다. <br/>
     그렇기에 사실상 시나리오를 제대로 작성하는것이 TDD를 통한 이점을 얻을 가장 핵심적인 작업인것이다. <br/>

4. 계층 테스트를 억지로 X
    - 계층 테스트를 억지로 작성하는것은 TDD의 목적과 맞지 않다. <br/>
      계층 테스트는 각 계층의 역할을 검증하는것이 목적이지만, TDD는 요구사항에 따라 테스트 시나리오를 작성하는것이 목적이다. <br/>
      따지자면 요구사항과는 전혀 관계가 없기 때문에 나중에 리펙터링을 하며 제한적으로 도입을 하던지, 아니면 아예 도입하지 않는것이 좋을것 같다. <br/>
